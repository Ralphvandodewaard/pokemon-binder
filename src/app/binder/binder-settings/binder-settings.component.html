<div class="flex flex-col">
  <button
    [ngClass]="settingsOpen ? 'rounded-t-3xl' : 'rounded-full'"
    class="relative flex justify-center items-center px-6 py-4 bg-primary text-white font-semibold border border-primary"
    (click)="toggleSettingsOpen()"
  >
    <p>
      Settings
    </p>
    <div class="absolute right-6 w-3">
      <app-angle-down-icon *ngIf="!settingsOpen"></app-angle-down-icon>
      <app-angle-up-icon *ngIf="settingsOpen"></app-angle-up-icon>
    </div>
  </button>
  <div
    *ngIf="settingsOpen"
    class="flex flex-col gap-4 pt-4 border-2 border-t-0 border-primary rounded-b-lg overflow-hidden"
  >
    <div
      *ngFor="let filterCategory of filterCategories"
      class="flex flex-col gap-2"
    >
      <p class="px-6 text-sm mobile:text-base text-primary font-semibold">
        {{ filterCategory.label }}
      </p>
      <div class="flex flex-col divide-y divide-gray-200 border-y border-gray-200">
        <button
          *ngFor="let filter of filterCategory.filters"
          class="flex items-center gap-2 w-full px-6 py-3 mobile:py-4 bg-white"
          (click)="emitToggleFilterEnabled(filter)"
        >
          <p class="text-sm mobile:text-base">
            {{ filter.label }}
          </p>
          <div
            [ngClass]="filter.isEnabled ? 'bg-green' : 'bg-disabled'"
            class="h-6 w-6 ml-auto p-1 rounded-full"
          >
            <app-checkmark-icon></app-checkmark-icon>
          </div>
        </button>
      </div>
    </div>
  </div>
</div>
